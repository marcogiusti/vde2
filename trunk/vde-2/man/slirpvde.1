.TH SLIRPVDE 1 "June 15, 2008" "Virtual Distributed Ethernet"
.SH NAME
slirpvde \- Virtual Distributed Ethernet-Slirp interface
.SH SYNOPSIS
.B slirpvde
.I OPTIONS
[
.I socketdir
]
.SH DESCRIPTION
\fBslirpvde\fP 
is a slirp interface for a VDE network.

Slirpvde connects all the units (virtual or real machines) to the network
of the host where slirpvde runs as it were a NAT/Masquerading router.
The default route is the node 2 (10.0.2.2 in the default network
configuration) and DNS is re-mapped in node 3 (10.0.2.3).

Slirpvde runs using standard user privileges (no need for root access): 
all the connections are re-generated by slirpvde itself.

IPv4 only. IPv6 is still unsupported (will be supported when slirpvde will be
rewritten using the LWIPv6 network stack).

.SH OPTIONS
.TP
\fB-s, --sock, --socket, --vdesock, --unix\fP \fIdirectory\fP
specify the VDE switch directory (default /var/run/vde.ctl).
The VDE switch directory can be also specified at the end of
the command, as illustrated by the optional parameter \fIsocketdir\fP
in the synopsis section, above.
When '-' is used in place of the VDE switch directory, \fBslirpvde\fP
works as a plug (see vde_plug(1)).
The command:
.br
.in +5
.B dpipe vde_plug = ssh remote.machine.org slirpvde -
.in -5
.br
which is the same as:
.br
.in +5
.B dpipe vde_plug = ssh remote.machine.org slirpvde -s -
.in -5
.br
connects the default local switch to a remote slirpvde.
.TP
\fB-p, --pidfile\fP \fIfilename\fP
specify the name of the file which contains the PID of slirpvde.
.TP
\fB-g, --group\fP \fIgroup\fP
specify the UNIX group for the VDE communication socket.
.TP
\fB-m, --mod\fP \fImode\fP
specify the octal UNIX permissions for the VDE communication socket.
.TP
\fB-P, --port\fP \fIport\fP
specify the port of the vde switch whern slirpvde must be connected.
.TP
\fB-d, --daemon\fP
detach from terminal and run \fBslirpvde\fP in background.
.TP
\fB-H, --host\fP \fIaddress\fP \fR[ \fB / \fI masklen \fR]
specify the host address (default 10.0.2.2/24).
This option automatically defines the network. 
e.g.
.in +5
\fB -H 192.168.55.1 \fR
.in -5
or:
.in +5
\fB --host 10.1.2.3/16 \fR
.in -5
The default value for \fImasklen\fR is 24.
If the host part of the address is zero this option defines only
the network. The default host addr is addr 2, the default dns proxy is 3.
e.g.
.in +5
\fB -H 10.1.0.0/16 \fR
.in -5
defines the network only. The host address is 10.1.0.2 and the DNS proxy
10.1.0.3.
.TP
\fB-n, --network\fP \fIaddress\fP \fR[ \fB / \fI masklen \fR]
specify the network address (default 10.0.2.0/24).
Deprecated, it has been included for back compatibility only. It is 
an alias of \fB-H, --host\fR. 
.TP
\fB-N, --dns\fP \fIaddress\fP
Specify the address of the dns server. If this is an address inside
the slirp network, slirvde acts as a dns proxy on that address.
The slirpvde dhcp server sends this dns address to the clients.
By default this is the host number 3 in the slirpvde network. Using the
default network it is 10.0.2.3.
Warning: do not use the same address for host and dns.
.TP
\fB-D, --dhcp\fP
turn on the DHCP server for the network autoconfiguration of
all the units connected to the VDE.
It is possible to specify the start address assigned by the DHCP server 
as follows:
.in +5
\fB --dhcp=10.1.1.44 \fR
.in -5
DHCP assign addresses starting at host number 15 by default. Using the
default network it starts from 10.0.2.15
.TP
\fB-L \fIport\fR:\fIvde_host\fR:\fIvde_hostport\fR
specifyes a TCP port redirection.
All the TCP packets received by the host running slirpvde at port \fIport\fR
will be forwarded to \fIvde_host\fR at port \fIvde_hostport\fR.
.TP
\fB-U \fIport\fR:\fIvde_host\fR:\fIvde_hostport\fR
specifyes a UDP port redirection.
All the UDP packets received by the host running slirpvde at port \fIport\fR
will be forwarded to \fIvde_host\fR at port \fIvde_hostport\fR.
.TP
\fB-X \fIvde_host\fR[:\fIdisplay\fR.[\fIscreen\fR]]i
redirect a X window screen of a virtual machine. Slirpvde gets the first unused X display on the
host running slirpvde and redirects all the requests to \fIvde_host\fR.
\fIdisplay\fR and \fIscreen\fR] must be specified when different from :0.0.
.TP
\fB-x \fIport\fR:\fIunix_socket_path\fR]
redirect a port of the virtual router (usually 10.0.2.2) to a unix stream socket.
It is used for example to redirect a X display of the hosting computer on the virtual network. e.g. -x6000:/tmp/.X11-unix/X0. (A suitable xhost configuration is needed (e.g. 'xhost local:').
.TP
\fB-t, --tftp\fP \fIpathname\fR
slirpvde enables a tftp server sharing (read-only) the directory at \fIpathname\fR.
.TP
\fB-q, --quiet\fP
Quiet;   do   not  write  anything  to  standard  output.

.SH NOTICE
Virtual Distributed Ethernet is not related in any way with
www.vde.com ("Verband der Elektrotechnik, Elektronik und Informationstechnik"
i.e. the German "Association for Electrical, Electronic & Information
Technologies").

.SH SEE ALSO
\fBvde_switch\fP(1),
\fBvde_plug\fP(1),
\fBvde_plug2tap\fP(1),
\fBdpipe\fP(1).
.br
.SH AUTHOR
VDE is a project by Renzo Davoli <renzo@cs.unibo.it>.
Slirp code is by Danny Gasparovsky.
Bootp/DHCP code is by Fabrice Bellard.
