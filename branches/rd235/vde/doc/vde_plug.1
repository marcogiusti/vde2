.\" Copyright (c) 2004 Renzo Davoli
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.

.TH VDE_PLUG 1 "February 23, 2004" "Virtual Distributed Ethernet"
.SH NAME
vde_plug \- Virtual Distributed Ethernet plug (two plugs creates a vde cable)
.SH SYNOPSIS
.B vde_plug 
[ 
.B \-g   
.I num  
] 
[
.I socketpath
]
.br
.SH DESCRIPTION
A
\fBvde_plug\fP 
is a plug to be connected into a VDE switch.
All the data that is catched by the plug is written in its stdout and
everything from stdin is injected in the switch.

This tool has been designed to be used together with 
.B dpipe (1)
to interconnect a second vde_plug to another switch, working as a
virtual ethernet crossed cable between the two switches.

The command
.RS
.br
.B dpipe vde_plug = vde_plug /tmp/vde2.ctl
.RE
connects two local switches: the former is using the standard control socket /tmp/vde.ctl
while the latter is using /tmp/vde2.ctl.


The command
.RS
.br
.B dpipe vde_plug = ssh remote.machine.org vde_plug
.RE
connects two remote switches.
If the two vde_switches run as daemon and they are connected to tap interfaces
a level 2 encrypted tunnel is established.

vde_plug can also be established as a login shell for users.
The following command works as in the previous example
.RS
.br
.B dpipe vde_plug = ssh vdeuser@remote.machine.org vde_plug
.RE
where vdeuser is the user with vde_plug as standard shell.
All the remote accesses are logged by syslog at the beginning and at the
end of each session.
Attempt to login without the command vde_plug at the end or trying to
execute something else are blocked and the attempt is logged into syslog.

.SH OPTIONS
.TP
.B \-g "\fInum\fP", 
Several cables between two switches having the same num (>0 and <256)
work concurrently.
It means that packet can result as duplicate but no ARP table loops are
generated.
Is useful when vde is used for mobility. Several physical interfaces can
be used at a time during handoffs to prevent hichups in connectivity.
.TP
.B "\fIsocketpath\fP", 
specify the UNIX socket to be used by local programs for joining the VDE.
The default value is "/tmp/vde.ctl"
.SH SEE ALSO
.BR vde_switch (1),
.BR vdeq (1).
.BR dpipe (1).
.br
.SH AUTHOR
VDE is a project by Renzo Davoli <renzo@cs.unibo.it>
